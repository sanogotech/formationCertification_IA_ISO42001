<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Certification ISO 42001 - Gestion de l'IA</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts (Inter for modern look) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-dark: #2c3e50; /* Dark blue-grey */
            --secondary-blue: #3498db; /* Bright blue */
            --accent-orange: #ff7f2a; /* Scrum orange */
            --success-green: #27ae60; /* Emerald green */
            --danger-red: #e74c3c; /* Alizarin red */
            --light-bg: #f4f7f6; /* Light grey background */
            --card-bg: #ffffff; /* White card background */
            --text-color: #34495e; /* Darker text */
            --border-color: #ecf0f1; /* Light border */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-color);
            padding: 2rem 0;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better scroll */
            min-height: 100vh;
        }

        .quiz-container {
            max-width: 800px;
            width: 100%;
            margin: auto;
            background-color: var(--card-bg);
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .quiz-header h1 {
            color: var(--primary-dark);
            font-weight: 700;
            text-align: center;
            margin-bottom: 0.5rem;
        }
        
        .quiz-header p {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .progress-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .progress {
            height: 10px;
            border-radius: 5px;
            background-color: var(--border-color);
        }

        .progress-bar {
            background-color: var(--secondary-blue);
            border-radius: 5px;
            transition: width 0.4s ease-in-out;
        }

        #question-card {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 2rem;
            background-color: #fdfdfd;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 1.5rem;
        }
        
        #question-text {
            font-size: 1.35rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            color: var(--primary-dark);
        }

        .option-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 1rem 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1rem;
            border-radius: 8px;
            border: 2px solid var(--border-color);
            background-color: var(--card-bg);
            transition: all 0.2s ease;
            color: var(--text-color);
        }

        .option-btn:hover:not([disabled]) {
            border-color: var(--accent-orange);
            background-color: #fffaf5;
            transform: translateY(-2px);
        }
        
        .option-btn.selected {
            background-color: #e0f2f7; /* Light blue */
            border-color: var(--secondary-blue);
            font-weight: 600;
        }

        .option-btn.correct {
            background-color: #e9f7ef; /* Light green */
            border-color: var(--success-green);
            color: var(--success-green);
            font-weight: 700;
        }

        .option-btn.incorrect {
            background-color: #fdeded; /* Light red */
            border-color: var(--danger-red);
            color: var(--danger-red);
            font-weight: 700;
        }

        #explanation-box {
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        #explanation-box h5 {
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .explanation-correct {
             background-color: #e9f7ef;
             border-left: 5px solid var(--success-green);
             color: var(--success-green);
        }

        .explanation-incorrect {
            background-color: #fdeded;
            border-left: 5px solid var(--danger-red);
            color: var(--danger-red);
        }
        .explanation-text {
            color: var(--text-color); /* Ensure explanation text is readable */
        }

        .quiz-navigation {
            display: flex;
            justify-content: flex-end; /* Align next button to the right */
            margin-top: 2rem;
        }

        .nav-btn {
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        /* Timer specific styles */
        #timer-bar-container {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        #timer-bar {
            height: 100%;
            width: 100%;
            background-color: var(--secondary-blue);
            border-radius: 4px;
            transition: width 1s linear; /* Smooth transition for 1-second decrements */
        }
        #timer-text {
            text-align: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--secondary-blue);
            margin-bottom: 1rem;
        }
        #timer-text.warning {
            color: var(--danger-red);
        }

        /* Modal styling */
        .modal-header {
            background-color: var(--primary-dark);
            color: var(--card-bg);
            border-bottom: none;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }

        .modal-title-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: var(--accent-orange);
        }
        
        .modal-content {
            border-radius: 15px;
            overflow: hidden;
        }

        .final-score {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .score-text {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .level-badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 700;
            margin-top: 1rem;
            color: var(--card-bg);
            background-color: var(--secondary-blue); /* Default */
        }

        .level-novice { background-color: #7f8c8d; } /* Grey */
        .level-debutant { background-color: #e67e22; } /* Carrot orange */
        .level-intermediaire { background-color: #3498db; } /* Peter river blue */
        .level-avance { background-color: #27ae60; } /* Emerald green */
        .level-expert { background-color: #8e44ad; } /* Wisteria purple */

        #final-recommendations h4 {
            color: var(--primary-dark);
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        #final-recommendations ul {
            list-style-type: none;
            padding-left: 0;
        }
        #final-recommendations ul li {
            background-color: #f0f3f5;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            margin-bottom: 0.6rem;
            border-left: 4px solid var(--secondary-blue);
            font-size: 0.95rem;
        }
        #final-recommendations ul li i {
            margin-right: 0.8rem;
            color: var(--secondary-blue);
        }

        .modal-footer {
            border-top: none;
            background-color: var(--light-bg);
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="quiz-container">
            <div class="quiz-header">
                <h1><i class="fas fa-robot" style="color:var(--accent-orange);"></i> Certification ISO 42001 - Gestion de l'IA</h1>
                <p>Ã‰valuez vos connaissances en 50 questions. Chaque question a une limite de temps de 75 secondes.</p>
            </div>

            <div class="progress-section">
                <span id="question-counter">Question 1 / 50</span>
                <span id="current-score">Score: 0</span>
            </div>
            <div class="progress" style="height: 10px;">
                <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 2%;" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100"></div>
            </div>

            <div id="timer-text">01:15</div>
            <div id="timer-bar-container">
                <div id="timer-bar"></div>
            </div>

            <div id="question-card" class="card">
                <div class="card-body">
                    <h2 id="question-text">Chargement de la question...</h2>
                    <div id="options-container">
                        <!-- Les boutons d'options seront insÃ©rÃ©s ici par JavaScript -->
                    </div>
                    <div id="explanation-box" class="d-none">
                        <h5 id="explanation-title"></h5>
                        <p id="explanation-text" class="explanation-text"></p>
                    </div>
                </div>
            </div>

            <div class="quiz-navigation">
                <!-- No previous button for a test -->
                <button id="next-btn" class="btn btn-primary nav-btn" disabled>Suivant <i class="fas fa-arrow-right"></i></button>
                <button id="finish-btn" class="btn btn-success nav-btn d-none">Terminer & Voir les RÃ©sultats</button>
            </div>
        </div>
    </div>

    <!-- Modal for results -->
    <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="resultsModalLabel"><i class="fas fa-award modal-title-icon"></i>Vos RÃ©sultats du Test ISO 42001</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center p-4">
                    <h4 class="score-text">Votre score final est :</h4>
                    <p class="final-score" id="final-score-percentage">0%</p>
                    <p class="text-muted fs-5">
                        <span id="final-score-correct">0</span> sur 
                        <span id="final-score-total">0</span> bonnes rÃ©ponses
                    </p>
                    <hr>
                    <h4 class="mt-4">Votre Niveau :</h4>
                    <span id="level-badge" class="level-badge"></span>
                    <div id="final-recommendations" class="text-start mt-4"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="restart-quiz-btn"><i class="fas fa-redo"></i> Recommencer le test</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const quizData = {
            questions: [
                {
                    question: "Quel est l'objectif principal de la norme ISO 42001?",
                    options: [
                        "Fournir un cadre pour le dÃ©veloppement de systÃ¨mes d'IA",
                        "Ã‰tablir des exigences pour un systÃ¨me de management de l'IA",
                        "DÃ©finir des algorithmes d'IA standardisÃ©s",
                        "Certifier les compÃ©tences des dÃ©veloppeurs en IA"
                    ],
                    correctAnswer: "Ã‰tablir des exigences pour un systÃ¨me de management de l'IA",
                    explanation: "L'ISO 42001 fournit un cadre pour Ã©tablir, mettre en Å“uvre, maintenir et amÃ©liorer un systÃ¨me de management de l'intelligence artificielle (SMIA) au sein d'une organisation."
                },
                {
                    question: "Quel principe fondamental de l'ISO 42001 met l'accent sur la nÃ©cessitÃ© de prendre en compte les impacts sociÃ©taux de l'IA?",
                    options: [
                        "ResponsabilitÃ©",
                        "Transparence",
                        "Impact sociÃ©tal et environnemental",
                        "Gouvernance des donnÃ©es"
                    ],
                    correctAnswer: "Impact sociÃ©tal et environnemental",
                    explanation: "Le principe d'impact sociÃ©tal et environnemental souligne l'importance de considÃ©rer les effets plus larges des systÃ¨mes d'IA sur la sociÃ©tÃ© et l'environnement."
                },
                {
                    question: "Quelle est la premiÃ¨re Ã©tape du cycle PDCA dans le contexte de l'ISO 42001?",
                    options: [
                        "Do (Mettre en Å“uvre)",
                        "Check (VÃ©rifier)",
                        "Plan (Planifier)",
                        "Act (Agir)"
                    ],
                    correctAnswer: "Plan (Planifier)",
                    explanation: "Le cycle PDCA (Plan-Do-Check-Act) commence par la phase de Planification, oÃ¹ l'organisation Ã©tablit ses objectifs et processus pour obtenir des rÃ©sultats conformes Ã  sa politique IA."
                },
                {
                    question: "Quel document dÃ©crit les intentions et la direction gÃ©nÃ©rale d'une organisation concernant son systÃ¨me de management de l'IA?",
                    options: [
                        "Le manuel qualitÃ©",
                        "La politique IA",
                        "Le plan de management des risques",
                        "Le registre des parties intÃ©ressÃ©es"
                    ],
                    correctAnswer: "La politique IA",
                    explanation: "La politique IA est un document formel qui exprime les engagements et les intentions de la direction concernant son systÃ¨me de management de l'IA."
                },
                {
                    question: "Quel est l'objectif principal d'une Ã©valuation des risques dans le cadre de l'ISO 42001?",
                    options: [
                        "Identifier et traiter les risques liÃ©s aux systÃ¨mes d'IA",
                        "Ã‰valuer la performance des algorithmes",
                        "Comparer diffÃ©rents fournisseurs d'IA",
                        "Calculer le retour sur investissement des projets d'IA"
                    ],
                    correctAnswer: "Identifier et traiter les risques liÃ©s aux systÃ¨mes d'IA",
                    explanation: "L'Ã©valuation des risques vise Ã  identifier les risques potentiels associÃ©s aux systÃ¨mes d'IA et Ã  mettre en place des mesures appropriÃ©es pour les traiter."
                },
                {
                    question: "Qui est responsable de s'assurer que le systÃ¨me de management de l'IA est conforme Ã  l'ISO 42001?",
                    options: [
                        "Le responsable qualitÃ©",
                        "La direction de l'organisation",
                        "Le comitÃ© d'Ã©thique",
                        "Le responsable sÃ©curitÃ© informatique"
                    ],
                    correctAnswer: "La direction de l'organisation",
                    explanation: "La direction de l'organisation a la responsabilitÃ© ultime de s'assurer que le SMIA est conforme aux exigences de l'ISO 42001 et atteint ses objectifs."
                },
                {
                    question: "Quel concept de l'ISO 42001 fait rÃ©fÃ©rence Ã  la capacitÃ© d'expliquer le fonctionnement d'un systÃ¨me d'IA?",
                    options: [
                        "ExplicabilitÃ©",
                        "AuditabilitÃ©",
                        "TraÃ§abilitÃ©",
                        "InteropÃ©rabilitÃ©"
                    ],
                    correctAnswer: "ExplicabilitÃ©",
                    explanation: "L'explicabilitÃ© est la caractÃ©ristique d'un systÃ¨me d'IA qui permet de comprendre et d'expliquer son fonctionnement et ses dÃ©cisions."
                },
                {
                    question: "Quelle est la principale diffÃ©rence entre l'ISO 42001 et l'ISO 9001?",
                    options: [
                        "L'ISO 9001 est spÃ©cifique Ã  l'IA alors que l'ISO 42001 est gÃ©nÃ©rique",
                        "L'ISO 42001 inclut des exigences spÃ©cifiques pour les systÃ¨mes d'IA",
                        "L'ISO 9001 est obligatoire alors que l'ISO 42001 est facultative",
                        "Il n'y a pas de diffÃ©rence significative entre les deux normes"
                    ],
                    correctAnswer: "L'ISO 42001 inclut des exigences spÃ©cifiques pour les systÃ¨mes d'IA",
                    explanation: "Alors que l'ISO 9001 est une norme gÃ©nÃ©rique pour les systÃ¨mes de management de la qualitÃ©, l'ISO 42001 est spÃ©cifiquement conÃ§ue pour les systÃ¨mes de management de l'intelligence artificielle."
                },
                {
                    question: "Quel Ã©lÃ©ment suivant est obligatoire pour la certification ISO 42001?",
                    options: [
                        "Un comitÃ© d'Ã©thique formel",
                        "Un responsable de la protection des donnÃ©es",
                        "Une politique IA documentÃ©e",
                        "Un systÃ¨me d'IA propriÃ©taire"
                    ],
                    correctAnswer: "Une politique IA documentÃ©e",
                    explanation: "L'ISO 42001 exige qu'une politique IA soit Ã©tablie, documentÃ©e, mise en Å“uvre et maintenue par l'organisation."
                },
                {
                    question: "Quelle est la durÃ©e typique de validitÃ© d'une certification ISO 42001?",
                    options: [
                        "1 an",
                        "3 ans",
                        "5 ans",
                        "Permanente tant que le systÃ¨me n'est pas modifiÃ©"
                    ],
                    correctAnswer: "3 ans",
                    explanation: "Comme pour la plupart des certifications ISO, la certification ISO 42001 est gÃ©nÃ©ralement valable pour 3 ans, avec des audits de surveillance annuels."
                },
                {
                    question: "Quel est l'objectif principal des audits internes dans le cadre de l'ISO 42001?",
                    options: [
                        "Ã‰valuer la conformitÃ© aux exigences lÃ©gales",
                        "VÃ©rifier l'efficacitÃ© du systÃ¨me de management de l'IA",
                        "Comparer les performances avec celles des concurrents",
                        "Former les employÃ©s aux bonnes pratiques d'IA"
                    ],
                    correctAnswer: "VÃ©rifier l'efficacitÃ© du systÃ¨me de management de l'IA",
                    explanation: "Les audits internes servent Ã  Ã©valuer si le SMIA est mis en Å“uvre efficacement et s'il est conforme aux exigences de l'organisation et de la norme ISO 42001."
                },
                {
                    question: "Quel concept de l'ISO 42001 fait rÃ©fÃ©rence Ã  la capacitÃ© de suivre l'origine et l'Ã©volution des donnÃ©es et des dÃ©cisions d'un systÃ¨me d'IA?",
                    options: [
                        "ExplicabilitÃ©",
                        "TraÃ§abilitÃ©",
                        "ReproductibilitÃ©",
                        "InteropÃ©rabilitÃ©"
                    ],
                    correctAnswer: "TraÃ§abilitÃ©",
                    explanation: "La traÃ§abilitÃ© permet de suivre l'origine des donnÃ©es, les transformations appliquÃ©es et les dÃ©cisions prises par le systÃ¨me d'IA tout au long de son cycle de vie."
                },
                {
                    question: "Quel est le principal avantage de mettre en Å“uvre l'ISO 42001 pour une organisation?",
                    options: [
                        "Garantir que les systÃ¨mes d'IA sont toujours les plus performants du marchÃ©",
                        "DÃ©montrer un engagement envers le dÃ©veloppement et l'utilisation responsables de l'IA",
                        "Obtenir un avantage technologique sur les concurrents",
                        "RÃ©duire les coÃ»ts de dÃ©veloppement des systÃ¨mes d'IA"
                    ],
                    correctAnswer: "DÃ©montrer un engagement envers le dÃ©veloppement et l'utilisation responsables de l'IA",
                    explanation: "L'ISO 42001 aide les organisations Ã  dÃ©montrer leur engagement envers une IA responsable, ce qui peut renforcer la confiance des parties prenantes et rÃ©pondre aux attentes rÃ©glementaires."
                },
                {
                    question: "Quel Ã©lÃ©ment suivant doit Ãªtre inclus dans le champ d'application du SMIA selon l'ISO 42001?",
                    options: [
                        "La liste complÃ¨te des algorithmes utilisÃ©s",
                        "Les limites et l'applicabilitÃ© du systÃ¨me de management de l'IA",
                        "Le budget annuel allouÃ© aux projets d'IA",
                        "Les noms des responsables de chaque projet d'IA"
                    ],
                    correctAnswer: "Les limites et l'applicabilitÃ© du systÃ¨me de management de l'IA",
                    explanation: "Le champ d'application du SMIA doit clairement dÃ©finir les limites et l'applicabilitÃ© du systÃ¨me, y compris les produits, services et processus couverts."
                },
                {
                    question: "Quel est l'objectif principal de la surveillance et de la mesure dans le cadre de l'ISO 42001?",
                    options: [
                        "Prouver la supÃ©rioritÃ© technologique de l'organisation",
                        "Ã‰valuer la performance du SMIA et des systÃ¨mes d'IA",
                        "Collecter des donnÃ©es pour la recherche et le dÃ©veloppement",
                        "Surveiller les activitÃ©s des employÃ©s"
                    ],
                    correctAnswer: "Ã‰valuer la performance du SMIA et des systÃ¨mes d'IA",
                    explanation: "La surveillance et la mesure permettent Ã  l'organisation d'Ã©valuer si le SMIA fonctionne comme prÃ©vu et si les systÃ¨mes d'IA atteignent leurs objectifs."
                },
                {
                    question: "Quel principe de l'ISO 42001 exige que les systÃ¨mes d'IA ne produisent pas de rÃ©sultats biaisÃ©s ou discriminatoires?",
                    options: [
                        "Ã‰quitÃ©",
                        "Transparence",
                        "Robustesse",
                        "ConfidentialitÃ©"
                    ],
                    correctAnswer: "Ã‰quitÃ©",
                    explanation: "Le principe d'Ã©quitÃ© exige que les systÃ¨mes d'IA soient conÃ§us et utilisÃ©s de maniÃ¨re Ã  Ã©viter les biais injustes et la discrimination."
                },
                {
                    question: "Quel document enregistre les preuves de la conformitÃ© aux exigences de l'ISO 42001?",
                    options: [
                        "Le manuel qualitÃ©",
                        "Le registre des informations documentÃ©es",
                        "Le plan de communication",
                        "La politique de sÃ©curitÃ©"
                    ],
                    correctAnswer: "Le registre des informations documentÃ©es",
                    explanation: "Le registre des informations documentÃ©es conserve les preuves de la mise en Å“uvre efficace du SMIA et de la conformitÃ© aux exigences de la norme."
                },
                {
                    question: "Quelle est la premiÃ¨re Ã©tape du processus de certification ISO 42001?",
                    options: [
                        "Audit de certification",
                        "Audit de surveillance",
                        "Audit de stage 1 (prÃ©-audit)",
                        "Ã‰valuation des compÃ©tences"
                    ],
                    correctAnswer: "Audit de stage 1 (prÃ©-audit)",
                    explanation: "Le processus de certification commence gÃ©nÃ©ralement par un audit de stage 1 (prÃ©-audit) qui Ã©value la prÃ©paration de l'organisation et la documentation du SMIA."
                },
                {
                    question: "Quel est l'objectif principal des actions correctives dans le cadre de l'ISO 42001?",
                    options: [
                        "Ã‰liminer les causes des non-conformitÃ©s et prÃ©venir leur rÃ©currence",
                        "Punir les responsables des non-conformitÃ©s",
                        "Documenter les Ã©checs du systÃ¨me",
                        "Justifier les dÃ©passements de budget"
                    ],
                    correctAnswer: "Ã‰liminer les causes des non-conformitÃ©s et prÃ©venir leur rÃ©currence",
                    explanation: "Les actions correctives visent Ã  identifier et Ã©liminer les causes profondes des non-conformitÃ©s pour empÃªcher qu'elles ne se reproduisent."
                },
                {
                    question: "Quel aspect suivant doit Ãªtre pris en compte lors de l'Ã©valuation des risques d'un systÃ¨me d'IA selon l'ISO 42001?",
                    options: [
                        "L'impact sur la rÃ©putation de l'organisation",
                        "Le coÃ»t des licences logicielles",
                        "La popularitÃ© de la technologie utilisÃ©e",
                        "La couleur de l'interface utilisateur"
                    ],
                    correctAnswer: "L'impact sur la rÃ©putation de l'organisation",
                    explanation: "L'Ã©valuation des risques doit considÃ©rer divers aspects, y compris l'impact potentiel sur la rÃ©putation de l'organisation en cas de dysfonctionnement ou d'utilisation inappropriÃ©e du systÃ¨me d'IA."
                },
                {
                    question: "Quel principe de l'ISO 42001 exige que les systÃ¨mes d'IA fonctionnent comme prÃ©vu mÃªme dans des conditions imprÃ©vues?",
                    options: [
                        "Robustesse",
                        "Transparence",
                        "ExplicabilitÃ©",
                        "Ã‰quitÃ©"
                    ],
                    correctAnswer: "Robustesse",
                    explanation: "Le principe de robustesse exige que les systÃ¨mes d'IA soient suffisamment rÃ©silients pour fonctionner correctement mÃªme dans des conditions imprÃ©vues ou adverses."
                },
                {
                    question: "Quelle partie intÃ©ressÃ©e est gÃ©nÃ©ralement la plus concernÃ©e par la conformitÃ© Ã  l'ISO 42001?",
                    options: [
                        "Les fournisseurs de matÃ©riel informatique",
                        "Les clients utilisant les systÃ¨mes d'IA",
                        "Les concurrents de l'organisation",
                        "Les mÃ©dias locaux"
                    ],
                    correctAnswer: "Les clients utilisant les systÃ¨mes d'IA",
                    explanation: "Les clients qui utilisent ou sont affectÃ©s par les systÃ¨mes d'IA sont parmi les parties intÃ©ressÃ©es les plus concernÃ©es par la conformitÃ© Ã  l'ISO 42001."
                },
                {
                    question: "Quel est l'objectif principal de la revue de direction dans le cadre de l'ISO 42001?",
                    options: [
                        "Ã‰valuer la performance individuelle des employÃ©s",
                        "Assurer l'adÃ©quation, l'efficacitÃ© et l'amÃ©lioration continue du SMIA",
                        "PrÃ©senter les derniers dÃ©veloppements technologiques en IA",
                        "NÃ©gocier avec les fournisseurs"
                    ],
                    correctAnswer: "Assurer l'adÃ©quation, l'efficacitÃ© et l'amÃ©lioration continue du SMIA",
                    explanation: "La revue de direction a pour but d'Ã©valuer le SMIA dans son ensemble et de s'assurer qu'il reste appropriÃ©, adÃ©quat et efficace."
                },
                {
                    question: "Quel document dÃ©crit comment une organisation rÃ©pond aux exigences de l'ISO 42001?",
                    options: [
                        "Le manuel du SMIA",
                        "La politique de sÃ©curitÃ©",
                        "Le plan de formation",
                        "Le rapport annuel"
                    ],
                    correctAnswer: "Le manuel du SMIA",
                    explanation: "Le manuel du SMIA est un document qui dÃ©crit comment l'organisation a mis en Å“uvre son systÃ¨me de management de l'IA pour rÃ©pondre aux exigences de l'ISO 42001."
                },
                {
                    question: "Quel est l'objectif principal des indicateurs de performance (KPI) dans le cadre de l'ISO 42001?",
                    options: [
                        "Comparer les performances avec celles des concurrents",
                        "Mesurer l'efficacitÃ© du SMIA et des systÃ¨mes d'IA",
                        "Calculer les bonus des employÃ©s",
                        "Justifier les investissements en matÃ©riel"
                    ],
                    correctAnswer: "Mesurer l'efficacitÃ© du SMIA et des systÃ¨mes d'IA",
                    explanation: "Les indicateurs de performance (KPI) sont utilisÃ©s pour mesurer et Ã©valuer l'efficacitÃ© du SMIA et des systÃ¨mes d'IA par rapport aux objectifs dÃ©finis."
                },
                {
                    question: "Quel aspect suivant relÃ¨ve de la gouvernance des donnÃ©es selon l'ISO 42001?",
                    options: [
                        "La gestion du cycle de vie des donnÃ©es utilisÃ©es par les systÃ¨mes d'IA",
                        "Le choix des couleurs de l'interface utilisateur",
                        "La sÃ©lection des fournisseurs de cafÃ©",
                        "L'organisation des Ã©vÃ©nements sociaux"
                    ],
                    correctAnswer: "La gestion du cycle de vie des donnÃ©es utilisÃ©es par les systÃ¨mes d'IA",
                    explanation: "La gouvernance des donnÃ©es dans l'ISO 42001 concerne la gestion appropriÃ©e des donnÃ©es tout au long de leur cycle de vie, y compris leur collecte, stockage, utilisation et suppression."
                },
                {
                    question: "Quelle est la frÃ©quence minimale recommandÃ©e pour les revues de direction selon l'ISO 42001?",
                    options: [
                        "Quotidienne",
                        "Hebdomadaire",
                        "Mensuelle",
                        "Annuelle"
                    ],
                    correctAnswer: "Annuelle",
                    explanation: "Bien que la frÃ©quence puisse varier selon les besoins de l'organisation, l'ISO 42001 recommande au minimum des revues de direction annuelles pour Ã©valuer le SMIA."
                },
                {
                    question: "Quel est l'objectif principal de la communication dans le cadre de l'ISO 42001?",
                    options: [
                        "Faire de la publicitÃ© pour les produits d'IA",
                        "Assurer que les informations pertinentes sont disponibles pour les parties intÃ©ressÃ©es",
                        "Organiser des Ã©vÃ©nements sociaux",
                        "Communiquer exclusivement avec la direction"
                    ],
                    correctAnswer: "Assurer que les informations pertinentes sont disponibles pour les parties intÃ©ressÃ©es",
                    explanation: "La communication dans le cadre de l'ISO 42001 vise Ã  s'assurer que les informations pertinentes sur le SMIA sont disponibles pour les parties intÃ©ressÃ©es internes et externes."
                },
                {
                    question: "Quel aspect suivant est couvert par le principe de confidentialitÃ© dans l'ISO 42001?",
                    options: [
                        "Protection des donnÃ©es sensibles utilisÃ©es par les systÃ¨mes d'IA",
                        "Performance des algorithmes d'IA",
                        "Design des interfaces utilisateur",
                        "CoÃ»t des infrastructures cloud"
                    ],
                    correctAnswer: "Protection des donnÃ©es sensibles utilisÃ©es par les systÃ¨mes d'IA",
                    explanation: "Le principe de confidentialitÃ© concerne la protection appropriÃ©e des donnÃ©es sensibles et personnelles utilisÃ©es par ou gÃ©nÃ©rÃ©es par les systÃ¨mes d'IA."
                },
                {
                    question: "Quel document dÃ©crit les responsabilitÃ©s et autoritÃ©s des personnes impliquÃ©es dans le SMIA?",
                    options: [
                        "L'organigramme de l'entreprise",
                        "La description des rÃ´les et responsabilitÃ©s",
                        "Le plan de formation",
                        "Le manuel des procÃ©dures"
                    ],
                    correctAnswer: "La description des rÃ´les et responsabilitÃ©s",
                    explanation: "Un document dÃ©crivant les rÃ´les et responsabilitÃ©s doit Ãªtre Ã©tabli pour clarifier qui fait quoi dans le cadre du SMIA."
                },
                {
                    question: "Quel est l'objectif principal de la formation dans le cadre de l'ISO 42001?",
                    options: [
                        "Assurer que le personnel est compÃ©tent pour exercer ses responsabilitÃ©s dans le SMIA",
                        "Former exclusivement les dÃ©veloppeurs d'IA",
                        "Organiser des sÃ©minaires pour les clients",
                        "RÃ©duire les coÃ»ts de recrutement"
                    ],
                    correctAnswer: "Assurer que le personnel est compÃ©tent pour exercer ses responsabilitÃ©s dans le SMIA",
                    explanation: "La formation vise Ã  dÃ©velopper les compÃ©tences nÃ©cessaires pour que le personnel puisse contribuer efficacement au SMIA selon ses responsabilitÃ©s."
                },
                {
                    question: "Quel aspect suivant doit Ãªtre considÃ©rÃ© dans la conception d'un systÃ¨me d'IA conforme Ã  l'ISO 42001?",
                    options: [
                        "Les impacts potentiels sur les droits de l'homme",
                        "La popularitÃ© du langage de programmation utilisÃ©",
                        "Le prix des actions de l'entreprise",
                        "Les prÃ©fÃ©rences personnelles des dÃ©veloppeurs"
                    ],
                    correctAnswer: "Les impacts potentiels sur les droits de l'homme",
                    explanation: "La conception des systÃ¨mes d'IA doit prendre en compte leurs impacts potentiels sur les droits de l'homme, conformÃ©ment aux principes de l'ISO 42001."
                },
                {
                    question: "Quel est l'objectif principal du traitement des rÃ©clamations dans le cadre de l'ISO 42001?",
                    options: [
                        "Ignorer les critiques pour Ã©viter les conflits",
                        "Fournir une rÃ©ponse systÃ©matique et appropriÃ©e aux prÃ©occupations concernant les systÃ¨mes d'IA",
                        "RÃ©duire les coÃ»ts de support client",
                        "Augmenter la charge de travail des Ã©quipes"
                    ],
                    correctAnswer: "Fournir une rÃ©ponse systÃ©matique et appropriÃ©e aux prÃ©occupations concernant les systÃ¨mes d'IA",
                    explanation: "Le traitement des rÃ©clamations vise Ã  rÃ©pondre de maniÃ¨re appropriÃ©e aux prÃ©occupations soulevÃ©es concernant les systÃ¨mes d'IA et leur utilisation."
                },
                {
                    question: "Quel concept de l'ISO 42001 fait rÃ©fÃ©rence Ã  la capacitÃ© d'un systÃ¨me d'IA Ã  rÃ©sister aux attaques malveillantes?",
                    options: [
                        "SÃ©curitÃ©",
                        "Robustesse",
                        "RÃ©silience",
                        "TolÃ©rance aux pannes"
                    ],
                    correctAnswer: "SÃ©curitÃ©",
                    explanation: "La sÃ©curitÃ© des systÃ¨mes d'IA concerne leur capacitÃ© Ã  rÃ©sister aux attaques malveillantes et Ã  protÃ©ger leur intÃ©gritÃ© et leur confidentialitÃ©."
                },
                {
                    question: "Quel est l'objectif principal de la documentation dans le cadre de l'ISO 42001?",
                    options: [
                        "CrÃ©er de la paperasse inutile",
                        "Fournir des preuves de la conformitÃ© et faciliter la connaissance organisationnelle",
                        "Augmenter le nombre de pages dans le manuel qualitÃ©",
                        "Justifier l'embauche de plus de personnel administratif"
                    ],
                    correctAnswer: "Fournir des preuves de la conformitÃ© et faciliter la connaissance organisationnelle",
                    explanation: "La documentation sert Ã  la fois de preuve de conformitÃ© et de moyen de prÃ©server et partager la connaissance organisationnelle sur le SMIA."
                },
                {
                    question: "Quel principe de l'ISO 42001 exige que les systÃ¨mes d'IA ne causent pas de prÃ©judice aux personnes?",
                    options: [
                        "Non-malfaisance",
                        "Bienfaisance",
                        "Autonomie",
                        "Justice"
                    ],
                    correctAnswer: "Non-malfaisance",
                    explanation: "Le principe de non-malfaisance (ou ne pas nuire) exige que les systÃ¨mes d'IA soient conÃ§us et utilisÃ©s de maniÃ¨re Ã  Ã©viter de causer des prÃ©judices aux individus ou Ã  la sociÃ©tÃ©."
                },
                {
                    question: "Quel est l'objectif principal de l'amÃ©lioration continue dans le cadre de l'ISO 42001?",
                    options: [
                        "Maintenir la conformitÃ© aux exigences de la norme",
                        "AmÃ©liorer en permanence l'efficacitÃ© du SMIA",
                        "RÃ©duire les coÃ»ts Ã  tout prix",
                        "Augmenter la charge de travail des employÃ©s"
                    ],
                    correctAnswer: "AmÃ©liorer en permanence l'efficacitÃ© du SMIA",
                    explanation: "L'amÃ©lioration continue vise Ã  amÃ©liorer constamment l'efficacitÃ© du SMIA et la performance des systÃ¨mes d'IA."
                },
                {
                    question: "Quel aspect suivant doit Ãªtre inclus dans la politique IA selon l'ISO 42001?",
                    options: [
                        "L'engagement Ã  amÃ©liorer continuellement le SMIA",
                        "Le salaire des employÃ©s",
                        "Les secrets commerciaux de l'organisation",
                        "Les noms des clients"
                    ],
                    correctAnswer: "L'engagement Ã  amÃ©liorer continuellement le SMIA",
                    explanation: "La politique IA doit inclure un engagement clair de la direction Ã  amÃ©liorer continuellement le SMIA."
                },
                {
                    question: "Quel est l'objectif principal des exercices de sensibilisation dans le cadre de l'ISO 42001?",
                    options: [
                        "Former exclusivement les dÃ©veloppeurs",
                        "Assurer que tout le personnel comprend l'importance du SMIA",
                        "Organiser des Ã©vÃ©nements sociaux",
                        "RÃ©duire les coÃ»ts de formation"
                    ],
                    correctAnswer: "Assurer que tout le personnel comprend l'importance du SMIA",
                    explanation: "Les exercices de sensibilisation visent Ã  faire comprendre Ã  tout le personnel l'importance du SMIA et leur rÃ´le dans son succÃ¨s."
                },
                {
                    question: "Quel document dÃ©crit les processus pour identifier et traiter les risques liÃ©s Ã  l'IA?",
                    options: [
                        "Le plan de management des risques",
                        "Le manuel des procÃ©dures",
                        "La politique de sÃ©curitÃ©",
                        "Le rapport annuel"
                    ],
                    correctAnswer: "Le plan de management des risques",
                    explanation: "Le plan de management des risques dÃ©crit les mÃ©thodes et processus pour identifier, Ã©valuer et traiter les risques associÃ©s aux systÃ¨mes d'IA."
                },
                {
                    question: "Quel principe de l'ISO 42001 exige que les individus puissent contester les dÃ©cisions des systÃ¨mes d'IA?",
                    options: [
                        "ContestabilitÃ©",
                        "Transparence",
                        "ExplicabilitÃ©",
                        "Ã‰quitÃ©"
                    ],
                    correctAnswer: "ContestabilitÃ©",
                    explanation: "Le principe de contestabilitÃ© garantit que les individus affectÃ©s par les dÃ©cisions des systÃ¨mes d'IA ont la possibilitÃ© de les contester et d'obtenir une rÃ©vision humaine."
                },
                {
                    question: "Quel est l'objectif principal des tests de validation dans le cadre de l'ISO 42001?",
                    options: [
                        "VÃ©rifier que le systÃ¨me d'IA rÃ©pond aux besoins et attentes des utilisateurs",
                        "Mesurer la vitesse d'exÃ©cution des algorithmes",
                        "Comparer les performances avec les concurrents",
                        "Justifier les investissements en matÃ©riel"
                    ],
                    correctAnswer: "VÃ©rifier que le systÃ¨me d'IA rÃ©pond aux besoins et attentes des utilisateurs",
                    explanation: "Les tests de validation visent Ã  s'assurer que le systÃ¨me d'IA rÃ©pond effectivement aux besoins et attentes des utilisateurs finaux et des parties prenantes."
                },
                {
                    question: "Quel aspect suivant est couvert par le principe de transparence dans l'ISO 42001?",
                    options: [
                        "Communication claire sur les capacitÃ©s et limites des systÃ¨mes d'IA",
                        "Performance des algorithmes",
                        "CoÃ»t des infrastructures cloud",
                        "Design des interfaces utilisateur"
                    ],
                    correctAnswer: "Communication claire sur les capacitÃ©s et limites des systÃ¨mes d'IA",
                    explanation: "Le principe de transparence exige une communication claire et ouverte sur ce que les systÃ¨mes d'IA peuvent et ne peuvent pas faire, ainsi que sur leurs limites."
                },
                {
                    question: "Quel document enregistre les incidents liÃ©s aux systÃ¨mes d'IA et les actions prises?",
                    options: [
                        "Le registre des incidents",
                        "Le manuel qualitÃ©",
                        "Le plan de communication",
                        "Le rapport annuel"
                    ],
                    correctAnswer: "Le registre des incidents",
                    explanation: "Le registre des incidents documente les problÃ¨mes survenus avec les systÃ¨mes d'IA, leurs impacts et les mesures correctives prises."
                },
                {
                    question: "Quel est l'objectif principal du contrÃ´le des documents dans le cadre de l'ISO 42001?",
                    options: [
                        "Assurer que seuls les documents actuels et approuvÃ©s sont utilisÃ©s",
                        "RÃ©duire le nombre de documents",
                        "Centraliser tous les documents dans un seul bureau",
                        "Limiter l'accÃ¨s Ã  tous les employÃ©s"
                    ],
                    correctAnswer: "Assurer que seuls les documents actuels et approuvÃ©s sont utilisÃ©s",
                    explanation: "Le contrÃ´le des documents vise Ã  s'assurer que les documents du SMIA sont Ã  jour, approuvÃ©s et disponibles lÃ  oÃ¹ ils sont nÃ©cessaires."
                },
                {
                    question: "Quel principe de l'ISO 42001 met l'accent sur le respect de la volontÃ© et des choix des individus?",
                    options: [
                        "Autonomie",
                        "Bienfaisance",
                        "Non-malfaisance",
                        "Justice"
                    ],
                    correctAnswer: "Autonomie",
                    explanation: "Le principe d'autonomie respecte le droit des individus Ã  faire leurs propres choix et Ã  contrÃ´ler leur interaction avec les systÃ¨mes d'IA."
                },
                {
                    question: "Quel est l'objectif principal des procÃ©dures documentÃ©es dans le cadre de l'ISO 42001?",
                    options: [
                        "CrÃ©er de la bureaucratie",
                        "Fournir des instructions claires pour les activitÃ©s critiques du SMIA",
                        "Augmenter le nombre de pages dans le manuel qualitÃ©",
                        "Justifier l'embauche de plus de personnel administratif"
                    ],
                    correctAnswer: "Fournir des instructions claires pour les activitÃ©s critiques du SMIA",
                    explanation: "Les procÃ©dures documentÃ©es fournissent des instructions claires pour les activitÃ©s critiques du SMIA, assurant la cohÃ©rence et la conformitÃ©."
                },
                {
                    question: "Quel aspect suivant doit Ãªtre considÃ©rÃ© lors de la surveillance des performances d'un systÃ¨me d'IA?",
                    options: [
                        "L'alignement avec les objectifs Ã©thiques et commerciaux",
                        "Le salaire des dÃ©veloppeurs",
                        "La couleur de l'interface utilisateur",
                        "Les prÃ©fÃ©rences personnelles des managers"
                    ],
                    correctAnswer: "L'alignement avec les objectifs Ã©thiques et commerciaux",
                    explanation: "La surveillance des performances doit Ã©valuer si le systÃ¨me d'IA reste alignÃ© avec les objectifs Ã©thiques et commerciaux de l'organisation."
                },
                {
                    question: "Quel est l'objectif principal des Ã©valuations pÃ©riodiques dans le cadre de l'ISO 42001?",
                    options: [
                        "VÃ©rifier en continu la conformitÃ© et l'efficacitÃ© du SMIA",
                        "Augmenter la charge de travail des employÃ©s",
                        "CrÃ©er des rapports pour la direction",
                        "Justifier les budgets"
                    ],
                    correctAnswer: "VÃ©rifier en continu la conformitÃ© et l'efficacitÃ© du SMIA",
                    explanation: "Les Ã©valuations pÃ©riodiques permettent de vÃ©rifier rÃ©guliÃ¨rement que le SMIA reste conforme et efficace pour rÃ©pondre aux objectifs de l'organisation."
                },
                {
                    question: "Quel principe de l'ISO 42001 exige que les bÃ©nÃ©fices des systÃ¨mes d'IA soient distribuÃ©s Ã©quitablement?",
                    options: [
                        "Justice",
                        "Ã‰quitÃ©",
                        "Bienfaisance",
                        "Autonomie"
                    ],
                    correctAnswer: "Justice",
                    explanation: "Le principe de justice concerne la distribution Ã©quitable des bÃ©nÃ©fices et des charges associÃ©s aux systÃ¨mes d'IA dans la sociÃ©tÃ©."
                },
                {
                    question: "Quel est l'objectif principal du traitement des non-conformitÃ©s dans le cadre de l'ISO 42001?",
                    options: [
                        "Identifier et corriger les Ã©carts par rapport aux exigences du SMIA",
                        "Punir les responsables",
                        "Cacher les problÃ¨mes Ã  la direction",
                        "RÃ©duire les coÃ»ts Ã  court terme"
                    ],
                    correctAnswer: "Identifier et corriger les Ã©carts par rapport aux exigences du SMIA",
                    explanation: "Le traitement des non-conformitÃ©s vise Ã  identifier, documenter et corriger les Ã©carts par rapport aux exigences du SMIA."
                },
                {
                    question: "Quel aspect suivant est essentiel pour la conformitÃ© Ã  l'ISO 42001 en matiÃ¨re de donnÃ©es?",
                    options: [
                        "La qualitÃ© et la pertinence des donnÃ©es utilisÃ©es par les systÃ¨mes d'IA",
                        "La quantitÃ© de donnÃ©es stockÃ©es",
                        "Le coÃ»t des serveurs de donnÃ©es",
                        "La popularitÃ© des sources de donnÃ©es"
                    ],
                    correctAnswer: "La qualitÃ© et la pertinence des donnÃ©es utilisÃ©es par les systÃ¨mes d'IA",
                    explanation: "La qualitÃ© et la pertinence des donnÃ©es sont essentielles pour assurer que les systÃ¨mes d'IA fonctionnent comme prÃ©vu et produisent des rÃ©sultats fiables."
                },
                {
                    question: "Quel est l'objectif principal des indicateurs d'alerte prÃ©coce dans le cadre de l'ISO 42001?",
                    options: [
                        "DÃ©tecter les problÃ¨mes potentiels avant qu'ils ne deviennent critiques",
                        "Augmenter la charge de travail des Ã©quipes",
                        "CrÃ©er plus de rapports",
                        "Justifier l'achat de nouveaux outils"
                    ],
                    correctAnswer: "DÃ©tecter les problÃ¨mes potentiels avant qu'ils ne deviennent critiques",
                    explanation: "Les indicateurs d'alerte prÃ©coce aident Ã  identifier les tendances ou problÃ¨mes potentiels avant qu'ils n'aient un impact significatif sur le SMIA ou les systÃ¨mes d'IA."
                }
            ]
        };

        // DOM Elements
        const questionCounterEl = document.getElementById('question-counter');
        const currentScoreEl = document.getElementById('current-score');
        const progressBarEl = document.getElementById('progress-bar');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const explanationBoxEl = document.getElementById('explanation-box');
        const explanationTitleEl = document.getElementById('explanation-title');
        const explanationTextEl = document.getElementById('explanation-text');
        const nextBtn = document.getElementById('next-btn');
        const finishBtn = document.getElementById('finish-btn');
        const timerTextEl = document.getElementById('timer-text');
        const timerBarEl = document.getElementById('timer-bar');
        
        // Modal Elements
        const resultsModal = new bootstrap.Modal(document.getElementById('resultsModal'));
        const finalScoreCorrectEl = document.getElementById('final-score-correct');
        const finalScoreTotalEl = document.getElementById('final-score-total');
        const finalScorePercentageEl = document.getElementById('final-score-percentage');
        const levelBadgeEl = document.getElementById('level-badge');
        const finalRecommendationsEl = document.getElementById('final-recommendations');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        // Quiz State
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = []; // Stores { selected: "...", correct: "...", isCorrect: true/false }
        let questions = []; // Shuffled questions
        let timerInterval;
        const TIME_PER_QUESTION = 75; // seconds
        let timeLeft = TIME_PER_QUESTION;
        let answeredCurrentQuestion = false; // To prevent multiple selections/timer issues

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz() {
            questions = shuffleArray([...quizData.questions]);
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = new Array(questions.length).fill(null);
            resultsModal.hide();
            displayQuestion(currentQuestionIndex);
            updateScoreDisplay();
        }

        function displayQuestion(index) {
            // Reset state for new question
            answeredCurrentQuestion = false;
            explanationBoxEl.classList.add('d-none');
            nextBtn.disabled = true; // Disable next until answered or time runs out
            timerTextEl.classList.remove('warning');

            if (index >= questions.length) {
                showFinalResults();
                return;
            }

            const question = questions[index];
            questionTextEl.textContent = question.question;
            
            optionsContainerEl.innerHTML = ''; // Clear previous options
            
            // Add A, B, C, D prefixes to options
            question.options.forEach((optionText, optionIndex) => {
                const button = document.createElement('button');
                const prefix = String.fromCharCode(65 + optionIndex); // Gets A, B, C, etc.
                button.textContent = `${prefix}. ${optionText}`;
                button.classList.add('btn', 'option-btn');
                button.onclick = () => selectAnswer(button, optionText, index);
                optionsContainerEl.appendChild(button);
            });
            
            updateNavigation();
            updateProgressBar();
            startTimer();
        }
        
        function selectAnswer(button, selectedAnswer, questionIndex) {
            if (answeredCurrentQuestion) return; // Prevent multiple selections
            answeredCurrentQuestion = true;
            clearInterval(timerInterval); // Stop the timer

            const question = questions[questionIndex];
            const isCorrect = selectedAnswer === question.correctAnswer;
            
            userAnswers[questionIndex] = {
                selected: selectedAnswer,
                correct: question.correctAnswer,
                isCorrect: isCorrect,
                timeTaken: TIME_PER_QUESTION - timeLeft // Record time taken
            };
            
            if(isCorrect) {
                score++;
            }
            updateScoreDisplay();
            showAnswerFeedback(questionIndex);
            nextBtn.disabled = false; // Enable next button
            
            // If this is the last question, show finish button
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('d-none');
                finishBtn.classList.remove('d-none');
            }
        }

        function showAnswerFeedback(index) {
            const userAnswer = userAnswers[index];
            if (!userAnswer) return; // Should not happen if called after selectAnswer or timer runs out

            const question = questions[index];

            // Disable all option buttons and highlight selection
            const optionButtons = optionsContainerEl.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => {
                btn.disabled = true;
                // The text content now includes the "A. " prefix, so we need to check if the correct/selected answer is a substring
                if (btn.textContent.includes(userAnswer.correct)) {
                    btn.classList.add('correct');
                } else if (btn.textContent.includes(userAnswer.selected) && !userAnswer.isCorrect) {
                    btn.classList.add('incorrect');
                }
            });

            // Show explanation
            explanationTextEl.textContent = question.explanation;
            if (userAnswer.isCorrect) {
                explanationTitleEl.textContent = "Correct !";
                explanationBoxEl.className = 'explanation-correct';
            } else {
                explanationTitleEl.textContent = "Incorrect. Explication :";
                explanationBoxEl.className = 'explanation-incorrect';
            }
            explanationBoxEl.classList.remove('d-none');
        }

        function startTimer() {
            timeLeft = TIME_PER_QUESTION;
            updateTimerDisplay();
            timerBarEl.style.transition = `width ${TIME_PER_QUESTION}s linear`; // Smooth transition for full duration
            timerBarEl.style.width = '0%'; // Start from 100% and go to 0%

            // Reset transition for next question to ensure it starts from 100%
            setTimeout(() => {
                timerBarEl.style.transition = 'none';
                timerBarEl.style.width = '100%';
                setTimeout(() => {
                    timerBarEl.style.transition = `width ${TIME_PER_QUESTION}s linear`;
                    timerBarEl.style.width = '0%';
                }, 50); // Small delay to apply reset before starting transition
            }, 0);

            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();

                if (timeLeft <= 10) { // Warning for last 10 seconds
                    timerTextEl.classList.add('warning');
                }

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerTextEl.classList.remove('warning');
                    // Automatically mark as incorrect and move to next
                    if (!answeredCurrentQuestion) {
                        userAnswers[currentQuestionIndex] = {
                            selected: null, // No answer selected
                            correct: questions[currentQuestionIndex].correctAnswer,
                            isCorrect: false,
                            timeTaken: TIME_PER_QUESTION // Full time taken
                        };
                        showAnswerFeedback(currentQuestionIndex);
                        updateScoreDisplay(); // Score won't change as it's incorrect
                        nextBtn.disabled = false; // Enable next button
                        
                        // If this is the last question, show finish button
                        if (currentQuestionIndex === questions.length - 1) {
                            nextBtn.classList.add('d-none');
                            finishBtn.classList.remove('d-none');
                        }
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerTextEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            // Timer bar width is handled by CSS transition
        }

        function updateNavigation() {
            // No previous button for this test type
            // nextBtn and finishBtn visibility handled by selectAnswer/timer logic
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBarEl.style.width = `${progress}%`;
            progressBarEl.setAttribute('aria-valuenow', progress);
            questionCounterEl.textContent = `Question ${currentQuestionIndex + 1} / ${questions.length}`;
        }
        
        function updateScoreDisplay() {
            currentScoreEl.textContent = `Score: ${score}`;
        }

        function handleNext() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion(currentQuestionIndex);
            } else {
                showFinalResults();
            }
        }

        function determineLevelAndRecommendations(percentage) {
            let level = "";
            let levelClass = "";
            let recommendations = "";

            if (percentage >= 90) {
                level = "Expert ISO 42001";
                levelClass = "level-expert";
                recommendations = `
                    <h4><i class="fas fa-star-half-alt"></i> FÃ©licitations, Expert(e) !</h4>
                    <p>Votre maÃ®trise des concepts de l'ISO 42001 est exceptionnelle. Vous Ãªtes prÃªt(e) Ã  guider les organisations dans la mise en Å“uvre de systÃ¨mes de management de l'IA.</p>
                    <h5><i class="fas fa-route"></i> Feuille de route :</h5>
                    <ul>
                        <li><i class="fas fa-lightbulb"></i> Envisagez de devenir auditeur ou consultant en certification ISO 42001.</li>
                        <li><i class="fas fa-chalkboard-teacher"></i> Partagez votre expertise en formant d'autres professionnels.</li>
                        <li><i class="fas fa-users-cog"></i> Participez Ã  l'Ã©laboration de politiques et de normes dans le domaine de l'IA.</li>
                        <li><i class="fas fa-book"></i> Approfondissez vos connaissances sur les cadres rÃ©glementaires Ã©mergents en IA.</li>
                    </ul>
                `;
            } else if (percentage >= 70) {
                level = "AvancÃ©(e) en ISO 42001";
                levelClass = "level-avance";
                recommendations = `
                    <h4><i class="fas fa-check-circle"></i> TrÃ¨s bien, niveau AvancÃ© !</h4>
                    <p>Vous avez une excellente comprÃ©hension de l'ISO 42001 et Ãªtes bien prÃ©parÃ©(e) pour participer Ã  des projets de mise en Å“uvre.</p>
                    <h5><i class="fas fa-route"></i> Feuille de route :</h5>
                    <ul>
                        <li><i class="fas fa-cogs"></i> Participez Ã  un projet rÃ©el de mise en Å“uvre de l'ISO 42001.</li>
                        <li><i class="fas fa-certificate"></i> PrÃ©parez-vous pour la certification officielle ISO 42001.</li>
                        <li><i class="fas fa-comments"></i> Ã‰changez avec des professionnels expÃ©rimentÃ©s pour approfondir votre comprÃ©hension.</li>
                        <li><i class="fas fa-search-plus"></i> Ã‰tudiez des cas d'implÃ©mentation complexes dans diffÃ©rents secteurs.</li>
                    </ul>
                `;
            } else if (percentage >= 50) {
                level = "IntermÃ©diaire en ISO 42001";
                levelClass = "level-intermediaire";
                recommendations = `
                    <h4><i class="fas fa-info-circle"></i> Bon dÃ©but, niveau IntermÃ©diaire !</h4>
                    <p>Vous avez acquis les bases solides de l'ISO 42001. Continuez Ã  approfondir vos connaissances pour maÃ®triser tous les aspects de la norme.</p>
                    <h5><i class="fas fa-route"></i> Feuille de route :</h5>
                    <ul>
                        <li><i class="fas fa-redo-alt"></i> Revoyez les sections de la norme oÃ¹ vous avez fait des erreurs.</li>
                        <li><i class="fas fa-book-reader"></i> Lisez le texte complet de la norme ISO 42001 et ses lignes directrices.</li>
                        <li><i class="fas fa-users"></i> Participez Ã  des formations ou webinaires sur l'ISO 42001.</li>
                        <li><i class="fas fa-question-circle"></i> Posez des questions Ã  des experts pour clarifier les concepts difficiles.</li>
                    </ul>
                `;
            } else if (percentage >= 25) {
                level = "DÃ©butant(e) en ISO 42001";
                levelClass = "level-debutant";
                recommendations = `
                    <h4><i class="fas fa-seedling"></i> En croissance, niveau DÃ©butant !</h4>
                    <p>Vous commencez votre parcours dans l'ISO 42001. Les concepts sont nouveaux, mais avec de la persÃ©vÃ©rance, vous progresserez rapidement.</p>
                    <h5><i class="fas fa-route"></i> Feuille de route :</h5>
                    <ul>
                        <li><i class="fas fa-graduation-cap"></i> Suivez une formation introductive Ã  l'ISO 42001.</li>
                        <li><i class="fas fa-video"></i> Regardez des tutoriels et des prÃ©sentations sur les principes de base.</li>
                        <li><i class="fas fa-sticky-note"></i> CrÃ©ez des fiches de rÃ©vision pour les termes et concepts clÃ©s.</li>
                        <li><i class="fas fa-lightbulb"></i> Essayez de relier les concepts Ã  des exemples concrets d'application.</li>
                    </ul>
                `;
            } else {
                level = "Novice en ISO 42001";
                levelClass = "level-novice";
                recommendations = `
                    <h4><i class="fas fa-exclamation-triangle"></i> Courage, niveau Novice !</h4>
                    <p>C'est un excellent point de dÃ©part pour apprendre. L'ISO 42001 peut sembler complexe au dÃ©but, mais elle est trÃ¨s logique une fois comprise.</p>
                    <h5><i class="fas fa-route"></i> Feuille de route :</h5>
                    <ul>
                        <li><i class="fas fa-book-open"></i> Commencez par les fondamentaux : principes et structure de la norme.</li>
                        <li><i class="fas fa-globe"></i> Explorez des ressources introductives sur les systÃ¨mes de management.</li>
                        <li><i class="fas fa-question"></i> Cherchez des dÃ©finitions pour chaque terme inconnu.</li>
                        <li><i class="fas fa-users-class"></i> Envisagez de suivre une formation avec un instructeur expÃ©rimentÃ©.</li>
                    </ul>
                `;
            }

            return { level, levelClass, recommendations };
        }

        function showFinalResults() {
            clearInterval(timerInterval); // Ensure timer is stopped
            nextBtn.classList.add('d-none');
            finishBtn.classList.add('d-none'); // Hide finish button too

            const percentage = (score / questions.length) * 100;
            const { level, levelClass, recommendations } = determineLevelAndRecommendations(percentage);

            finalScoreCorrectEl.textContent = score;
            finalScoreTotalEl.textContent = questions.length;
            finalScorePercentageEl.textContent = `${percentage.toFixed(0)}%`;
            finalScorePercentageEl.style.color = getScoreColor(percentage); // Set color based on score
            
            levelBadgeEl.textContent = level;
            levelBadgeEl.className = `level-badge ${levelClass}`; // Apply level specific class
            finalRecommendationsEl.innerHTML = recommendations;

            resultsModal.show();
        }

        function getScoreColor(percentage) {
            if (percentage >= 90) return 'var(--success-green)';
            if (percentage >= 70) return 'var(--secondary-blue)';
            if (percentage >= 50) return 'var(--accent-orange)';
            if (percentage >= 25) return '#e67e22'; /* Carrot orange */
            return 'var(--danger-red)';
        }

        // Event Listeners
        nextBtn.addEventListener('click', handleNext);
        finishBtn.addEventListener('click', showFinalResults);
        restartQuizBtn.addEventListener('click', () => {
            resultsModal.hide();
            setTimeout(startQuiz, 500); // Small delay for modal to close
        });
        
        // Initial call
        document.addEventListener('DOMContentLoaded', startQuiz);
    </script>
</body>
</html>